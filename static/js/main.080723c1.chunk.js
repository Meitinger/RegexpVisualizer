(this.webpackJsonpregex_viz=this.webpackJsonpregex_viz||[]).push([[0],{51:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(13),u=n(0),c=n(4),i=65535;function s(e){return c.CharSet.fromCharacters(i,e.split("").map((function(e){return e.charCodeAt(0)})).sort((function(e,t){return e-t})))}var o=s("0123456789"),l=s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_"),f=s("\f\n\r\t\v\xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff");function d(e,t,n){var r=e.copy();return r.quantify(t,n),r}function m(e){var t=c.NFA.empty({maxCharacter:e.maximum});if(!e.isEmpty){var n=t.nodes,r=n.createNode();n.linkNodes(n.initial,r,e),n.makeFinal(r)}return t}function j(e){return c.CharSet.fromCharacters(i,[e])}var p=u.createLanguage({STAR:function(){return u.string("*")},PIPE:function(){return u.string("|")},TILDE:function(){return u.string("~")},PLUS:function(){return u.string("+")},OPTIONAL:function(){return u.string("?")},NOT:function(){return u.string("!")},PARENTH_LEFT:function(){return u.string("(")},PARENTH_RIGHT:function(){return u.string(")")},BRACKET_LEFT:function(){return u.string("[")},BRACKET_RIGHT:function(){return u.string("]")},CURLY_LEFT:function(){return u.string("{")},CURLY_RIGHT:function(){return u.string("}")},CARET:function(){return u.string("^")},DASH:function(){return u.string("-")},DOT:function(){return u.string(".")},COMMA:function(){return u.string(",")},NON_META:function(){return u.regexp(/[^\\(){}[\]|*+?.~!]/).map((function(e){return e.charCodeAt(0)}))},ESCAPED_META:function(){return u.regexp(/\\[\\(){}[\]|*+?.~!]/).map((function(e){return e.charCodeAt(1)}))},CLASSES:function(){return u.regexp(/\\[dDwWsS]/).map((function(e){switch(e[1]){case"d":return o;case"D":return o.negate();case"w":return l;case"W":return l.negate();case"s":return f;case"S":return f.negate();default:throw new Error("Class ".concat(e[1]," not implemented."))}}))},SPECIAL:function(){return u.regexp(/\\([trnvfb0]|u[0-9]{4})/).map((function(e){switch(e[1]){case"t":return 9;case"r":return 13;case"n":return 10;case"v":return 11;case"f":return 12;case"b":return 8;case"0":return 0;case"u":return parseInt(e.substring(2));default:throw new Error("Special character ".concat(e[1]," not implemented."))}}))},SET_NON_META:function(){return u.regexp(/[^\\^\-\]]/).map((function(e){return e.charCodeAt(0)}))},SET_ESCAPED_META:function(){return u.regexp(/\\[\\^\-\]]/).map((function(e){return e.charCodeAt(1)}))},regex:function(e){return u.alt(e.union,e.level4)},union:function(e){return u.seq(e.level4,e.PIPE,e.regex).map((function(e){var t=Object(r.a)(e,3),n=t[0],a=(t[1],t[2]),u=n.copy();return u.union(a),u}))},level4:function(e){return u.alt(e.intersection,e.level3)},intersection:function(e){return u.seq(e.level3,e.TILDE,e.level4).map((function(e){var t=Object(r.a)(e,3),n=t[0],a=(t[1],t[2]);return c.NFA.fromIntersection(n,a)}))},level3:function(e){return u.alt(e.concatenation,e.level2)},concatenation:function(e){return u.seq(e.level2,e.level3).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1],u=n.copy();return u.append(a),u}))},level2:function(e){return u.alt(e.star,e.plus,e.optional,e.repeat,e.level1)},star:function(e){return u.seq(e.level1,e.STAR).map((function(e){var t=Object(r.a)(e,2),n=t[0];t[1];return d(n,0,1/0)}))},plus:function(e){return u.seq(e.level1,e.PLUS).map((function(e){var t=Object(r.a)(e,2),n=t[0];t[1];return d(n,1,1/0)}))},optional:function(e){return u.seq(e.level1,e.OPTIONAL).map((function(e){var t=Object(r.a)(e,2),n=t[0];t[1];return d(n,0,1)}))},repeat:function(e){return u.seq(e.level1,e.CURLY_LEFT,u.alt(e.repeat_range,e.repeat_fixed),e.CURLY_RIGHT).map((function(e){var t=Object(r.a)(e,4),n=t[0],a=(t[1],t[2]);t[3];return d(n,a.min,a.max)}))},repeat_range:function(e){return u.seq(e.optional_number,e.COMMA,e.optional_number).map((function(e){var t=Object(r.a)(e,3),n=t[0],a=(t[1],t[2]);return{min:null!==n&&void 0!==n?n:0,max:null!==a&&void 0!==a?a:1/0}}))},repeat_fixed:function(e){return e.number.map((function(e){return{min:e,max:e}}))},number:function(){return u.regexp(/0|[1-9][0-9]*/).map(parseInt)},optional_number:function(){return u.regexp(/(0|[1-9][0-9]*)?/).map((function(e){return e.length>0?parseInt(e):null}))},level1:function(e){return u.alt(e.negation,e.level0)},negation:function(e){return u.seq(e.NOT,e.level0).map((function(e){var t=Object(r.a)(e,2),n=(t[0],t[1]),a=c.DFA.fromFA(n);return a.complement(),c.NFA.fromFA(a)}))},level0:function(e){return u.alt(e.group,e.text)},group:function(e){return u.seq(e.PARENTH_LEFT,e.regex,e.PARENTH_RIGHT).map((function(e){var t=Object(r.a)(e,3),n=(t[0],t[1]);t[2];return n}))},text:function(e){return u.alt(e.CLASSES,e.any,e.positive_set,e.negative_set,e.char.map(j)).map(m)},char:function(e){return u.alt(e.NON_META,e.ESCAPED_META,e.SPECIAL)},any:function(e){return e.DOT.map((function(e){return c.CharSet.all(i)}))},positive_set:function(e){return u.seq(e.BRACKET_LEFT,e.set,e.BRACKET_RIGHT).map((function(e){var t=Object(r.a)(e,3),n=(t[0],t[1]);t[2];return n}))},negative_set:function(e){return u.seq(e.BRACKET_LEFT,e.CARET,e.set,e.BRACKET_RIGHT).map((function(e){var t=Object(r.a)(e,4),n=(t[0],t[1],t[2]);t[3];return n.negate()}))},set:function(e){return u.alt(e.set_concatenation,e.set_item)},set_concatenation:function(e){return u.seq(e.set_item,e.set).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return n.union(a)}))},set_item:function(e){return u.alt(e.CLASSES,e.range,e.set_char.map(j))},set_char:function(e){return u.alt(e.SET_NON_META,e.SET_ESCAPED_META,e.SPECIAL)},range:function(e){return u.seq(e.set_char,e.DASH,e.set_char).map((function(e){var t=Object(r.a)(e,3),n=t[0];t[1];return function(e,t){if(e>t)throw new RangeError("The range [min=".concat(e,", max=").concat(t,"] is invalid."));return c.CharSet.empty(i).union([{min:e,max:t}])}(n,t[2])}))}}),b=n(5),v=n(3),g=n(14),h=n(1),O=new g.a({workerURL:"/regex_viz/static/js/full.render.js"}),x=new Map([["\\d",o],["\\D",o.negate()],["\\w",l],["\\W",l.negate()],["\\s",f],["\\S",f.negate()]]);function k(e){switch(e){case 9:return"\t";case 13:return"\r";case 10:return"\n";case 11:return"\v";case 12:return"\f";case 8:return"\b";case 0:return"\0";case 32:return"<space>";default:if(e>126||e<32){var t=e.toString(16);return"\\u".concat("0".repeat(4-t.length)).concat(t)}return String.fromCharCode(e)}}function E(e){if(e.isAll)return"any";if(e.isEmpty)return"never";if(2*e.size>e.maximum)return"not ".concat(E(e.negate()));for(var t=[];!e.isEmpty;){var n,a=void 0,u=Object(b.a)(x);try{for(u.s();!(n=u.n()).done;){var c=Object(r.a)(n.value,2),i=c[0],s=c[1];if(s.isSubsetOf(e)){if(a&&s.size<a.set.size)continue;a={name:i,set:s}}}}catch(o){u.e(o)}finally{u.f()}if(!a)break;t.push(a.name),e=e.without(a.set)}return t.concat(e.ranges.map((function(e){return e.min===e.max?k(e.min):"".concat(k(e.min),"-").concat(k(e.max))}))).join(",")}var A=function(e){var t=e.nfa,n=Object(v.useRef)(null),a=Object(v.useState)(100),u=Object(r.a)(a,2),c=u[0],i=u[1],s=Object(v.useState)(null),o=Object(r.a)(s,2),l=o[0],f=o[1],d=Object(v.useState)(void 0),m=Object(r.a)(d,2),j=m[0],p=m[1];return Object(v.useEffect)((function(){var e=!1;return f(null),p(void 0),t&&O.renderSVGElement(t.toDot(E)).then((function(t){return e||f(t)})).catch((function(t){return e||p(t)})),function(){e=!0}}),[t]),Object(v.useEffect)((function(){l&&(l.style.transformOrigin="top left",l.style.transform="scale(".concat(c/100,")"))}),[l,c]),Object(v.useEffect)((function(){var e=n.current;if(e&&l){var t=e.appendChild(l);return function(){e.removeChild(t)}}}),[n,l]),Object(h.jsxs)("div",{className:"uk-card uk-card-default",children:[Object(h.jsx)("div",{className:"uk-card-header",children:Object(h.jsxs)("div",{className:"uk-grid-small","data-uk-grid":!0,children:[Object(h.jsx)("div",{className:"uk-width-auto",children:Object(h.jsx)("h3",{className:"uk-card-title",children:"Visualization"})}),Object(h.jsx)("div",{className:"uk-width-expand uk-text-right",children:Object(h.jsxs)("div",{className:"uk-button-group",children:[Object(h.jsx)("button",{disabled:!l||100===c,className:"uk-button uk-button-default uk-button-small",onClick:function(){return i(Math.max(c-10,100))},children:Object(h.jsx)("span",{"data-uk-icon":"minus-circle"})}),Object(h.jsx)("button",{disabled:!l,className:"uk-button uk-button-default uk-button-small",onClick:function(){return i(c+10)},children:Object(h.jsx)("span",{"data-uk-icon":"plus-circle"})})]})})]})}),Object(h.jsx)("div",{className:"uk-card-body",children:Object(h.jsxs)("div",{className:"uk-overflow-auto uk-background-".concat(l?"default":"muted"),"data-uk-height-viewport":"expand: true",children:[j&&Object(h.jsx)("span",{className:"uk-text-danger",children:j}),t&&!(l||j)&&Object(h.jsx)("div",{className:"uk-position-center","data-uk-spinner":"ratio: 2"}),Object(h.jsx)("div",{ref:n})]})})]})},N=(n(49),n(15)),T=n.n(N),_=n(16),C=n.n(_);T.a.use(C.a);var S=function(){var e=Object(v.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],u=Object(v.useState)(null),c=Object(r.a)(u,2),i=c[0],s=c[1],o=Object(v.useState)(""),l=Object(r.a)(o,2),f=l[0],d=l[1];var m=Object(v.useCallback)((function(){for(var e=new Array(f.length),t=0;t<f.length;t++)e[t]=f.charCodeAt(t);return null===n||void 0===n?void 0:n.test(e)}),[n,f]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"uk-margin-top uk-margin-left uk-margin-right uk-margin-bottom",children:[Object(h.jsxs)("div",{className:"uk-margin uk-card uk-card-default",children:[Object(h.jsx)("div",{className:"uk-card-header",children:Object(h.jsxs)("div",{className:"uk-grid-small","data-uk-grid":!0,children:[Object(h.jsx)("div",{className:"uk-width-auto",children:Object(h.jsx)("h3",{className:"uk-card-title",children:"Regular Expression"})}),Object(h.jsx)("div",{className:"uk-width-expand uk-text-right",children:Object(h.jsx)("a",{className:"uk-text-primary uk-button uk-button-text",href:"https://github.com/Meitinger/regex_viz/blob/main/README.md",target:"_blank",rel:"noreferrer",children:"Usage"})})]})}),Object(h.jsx)("div",{className:"uk-card-body",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"uk-grid-small uk-grid-match","data-uk-grid":!0,children:[Object(h.jsx)("div",{className:"uk-width-3-5@m",children:Object(h.jsx)("input",{className:"uk-input ".concat(n?"uk-form-success":i?"uk-form-danger":""),type:"text",onInput:function(e){return function(e){if(a(null),s(null),e)try{a(p.regex.tryParse(e))}catch(i){s(String(i))}}(e.currentTarget.value)}})}),Object(h.jsx)("div",{className:"uk-width-auto@m",children:Object(h.jsx)("span",{className:"uk-text-large uk-text-".concat(n?"primary":"muted"),children:"test"})}),Object(h.jsx)("div",{className:"uk-width-expand@m",children:Object(h.jsxs)("div",{className:"uk-inline",children:[void 0!==m()&&Object(h.jsx)("span",{className:"uk-form-icon uk-text-".concat(m()?"success":"danger"),"uk-icon":m()?"check":"close"}),Object(h.jsx)("input",{disabled:!n,className:"uk-input",type:"text",value:f,onInput:function(e){return d(e.currentTarget.value)}})]})})]}),i&&Object(h.jsx)("span",{className:"uk-text-danger",children:i})]})})]}),Object(h.jsx)(A,{nfa:n})]})})};Object(a.render)(Object(h.jsx)(S,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.080723c1.chunk.js.map